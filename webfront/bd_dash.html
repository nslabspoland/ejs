<!DOCTYPE html>

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Dashboard</title>
	<script type="text/javascript" src="../config/messages.js"></script>
	<link rel="stylesheet" href="../styles/entryforms.css" />
	<link rel="stylesheet" href="../styles/dropdowns.css" />
</head>

<body>
	<!-- JS -->
	<script>
		console.clear = () => console.trace("Coś próbuje wyczyścić konsolę");
		window.clear = console.clear;
	</script>
	<script type="text/javascript">
		let showUa = function () {
			document.getElementById('text_input_user_Agent').value = navigator.userAgent.toString();
		}

		function openPage() {
			window.open("https://github.com");
			console.log("Opened");
		}

		// Dropdowns
		/* When the user clicks on the button, toggle between hiding and showing the dropdown content */
		function myFunction() {
			document.getElementById("myDropdown").classList.toggle("show");
		}

		// Close the dropdown menu if the user clicks outside of it
		window.onclick = function (event) {
			if (!event.target.matches('.dropbtn')) {
				var dropdowns = document.getElementsByClassName("dropdown-content");
				var i;
				for (i = 0; i < dropdowns.length; i++) {
					var openDropdown = dropdowns[i];
					if (openDropdown.classList.contains('show')) {
						openDropdown.classList.remove('show');
					}
				}
			}
		}

		function showInputtedName() {
			const NameValue = document.querySelectorAll('input');
			alert(NameValue.values);
		}

		function clearTextFields() {
			const inpts = [
				document.getElementById('text_input_name'),
				document.getElementById('text_input_user_Agent')
			]
			inpts.forEach(element => {
				inpts.values = "";
				console.log(npts.length);
			});
		}

		function logErrorAsInfoMessageGettingValuesDisplayed() {
			let errDisplayingValues = "Unable to read correct values";
			console.log(errDisplayingValues);
		}

		function getValues() {
			let vtr = Math.random().toPrecision(4);
			let hwc = Math.random().toPrecision(4);
			document.querySelector('input[id="vtrpercent"]').value = vtr;
			document.querySelector('input[id="hwclock"]').value = hwc;

			// Send error to console
			logErrorAsInfoMessageGettingValuesDisplayed();
		}

	</script>
	<!-- End of JS -->
	<div class="box">
		<form class="formtext" id="welcomeForm" target="_self" action="bd_dash.html">
			<fieldset class="box a">
				<legend class="legend_css">Basic info</legend>
				Name: <input id="text_input_name" type="text" placeholder="Enter your name (required)" /><br /><br />
				userAgent: <input id="text_input_user_Agent" type="text" onclick="showUa()" disabled /><br /><br />
			</fieldset>
			<fieldset class="box b">
				<legend class="legend_css">H/W info</legend>
				<label for="cpulist">Select CPU brand</label><br>
				<select id="cpulist" style="width: 220px;">
					<optgroup>
						<option>AMD</option>
						<option>Intel</option>
						<option>CLIGRPMax seria 1</option>
						<option>CLIGRPMax seria 2</option>
					</optgroup>
				</select><br><br />
				VTR (%):<br><input id="vtrpercent" type="text" disabled /><br><br />
				H/W (d)clock:<br><input id="hwclock" type="text" disabled /><br><br />
			</fieldset>
			<fieldset class="box-c">
				<legend class="legend_css">Misc</legend>
				<!--Insert text to display: <input id="text_input_disp" type="text" placeholder="Insert text" maxlength="10"/>
				<button id="btn_displ_txt" onclick="
				let v = document.getElementById('text_input_disp');
				alert();
				">Display text</button>-->
				<button id="showUA-btn" onclick="showUa()">Show userAgent</button>
				<button id="openPageBtn" onclick="openPage()">Open GitHub</button>
				<button id="showName" onclick="showInputtedName()" disabled>Show current name</button>
				<button id="clearTxt" onclick="clearTextFields()">Clear inputs</button>
				<button id="generateHWValues" onclick="getValues()">Generate values</button>
			</fieldset>
		</form>
	</div>
</body>

</html>